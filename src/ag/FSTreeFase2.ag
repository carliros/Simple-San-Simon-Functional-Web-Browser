PRAGMA genlinepragmas

imports{
-- libraries
import qualified Graphics.UI.WXCore as WXC
import qualified Graphics.UI.WX as WX
import qualified Data.Map as Map
import System.IO.Unsafe
import Data.Function
import Url

-- my libraries
import CssBox
import PropertyValue
import DataTreeCSS
import FSBox
import ImageProcess
import AuxiliarFunctions
}

-- datatypes for Formatting Structure Fase 2
DATA WindowRoot
    | WindowRoot WindowTree

DATA WindowTree
    | WindowItemContainer
        marker    : {ListMarker}
        sizeMarker: {(Int,Int)}
        elem      : Element
        props     : {Map.Map String PropertyValue}
        attrs     : {Map.Map String String}
    | WindowContainer
        fcnxt: String
        props: {Map.Map String PropertyValue}
        attrs: {Map.Map String String}
        tCont: {TypeContinuation}
        bRepl: Bool
        elem : Element
    | WindowText
        props: {Map.Map String PropertyValue}
        attrs: {Map.Map String String}
        tCont: {TypeContinuation}
        text : String

DATA Element
    | EWinds winds: WindowTrees
    | ELines lines: Lines
    | ENothing

TYPE WindowTrees = [WindowTree]
TYPE Lines       = [Line]

DATA Line
    | Line winds: WindowTrees

DATA ListMarker
    | Glyph      name : String
    | Numering   value: String
    | Alphabetic value: String
    | NoMarker

INCLUDE "WindowSize.ag"
INCLUDE "WindowPosition.ag"
INCLUDE "GenWindowTree.ag"
INCLUDE "GenBoxTree.ag"

