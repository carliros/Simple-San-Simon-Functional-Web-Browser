PRAGMA genlinepragmas

DATA SRoot
    | SRoot Rules

TYPE Rules = [Rule]

TYPE Rule = ({Bool}, Selectors, {[Property]})

TYPE Selectors = [Selector]

DATA Selector
    | SimpSelector SSelector
    | DescSelector SSelector
    | ChilSelector SSelector
    | SiblSelector SSelector
    -- | CombSelector SSelector String -- combinators: ' ', >, +

DATA SSelector
    | TypeSelector String atselectors: ATSelectors pseudo: MaybePseudo
    | UnivSelector        atselectors: ATSelectors pseudo: MaybePseudo

TYPE ATSelectors = [ATSelector]

DATA ATSelector
    | ID         value: String              -- id selector (#)
    | ATName     name : String
    | ATOperator name, op, value: String    -- op: =, ~=, |=    it includes the class selector (.)

TYPE MaybePseudo = MAYBE PseudoElement

DATA PseudoElement
    | PseudoBefore
    | PseudoAfter
   -- | PseudoFirstLetter
   -- | PseudoFirstLine

DATA Property
    | Property Origin prop: String Value important:Bool

DATA Origin
    | UserAgent
    | User
    | Author

DATA Value
    | PixelNumber Float
    | PointNumber Float
    | EmNumber    Float
    | Percentage  Float
    | KeyValue    String
    | KeyColor    String
    | StringValue String
    | Counter     item: String      style: {Maybe Value}
    | Counters    item, sep: String style: {Maybe Value}
    | ListValue    values: {[Value]}
    | CounterValue String int:{Maybe Int}
    | QuoteValue   open,close: String
    | NotSpecified

TYPE Values = [Value]

DERIVING Origin Value: Eq
DERIVING *: Show

